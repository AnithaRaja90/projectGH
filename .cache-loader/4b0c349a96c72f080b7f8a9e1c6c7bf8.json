{"remainingRequest":"/var/www/PGH/aug/projectGH/node_modules/thread-loader/dist/cjs.js??ref--10-2!/var/www/PGH/aug/projectGH/node_modules/ts-loader/index.js??ref--10-3!/var/www/PGH/aug/projectGH/node_modules/angular-router-loader/src/index.js!/var/www/PGH/aug/projectGH/node_modules/tslint-loader/index.js!/var/www/PGH/aug/projectGH/src/main/webapp/app/entities/godown-management/godown-purchase.component.ts","dependencies":[{"path":"/var/www/PGH/aug/projectGH/src/main/webapp/app/entities/godown-management/godown-purchase.component.ts","mtime":1534737695150},{"path":"/var/www/PGH/aug/projectGH/node_modules/angular2-template-loader/index.js","mtime":1486570058000},{"path":"/var/www/PGH/aug/projectGH/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/var/www/PGH/aug/projectGH/node_modules/thread-loader/dist/cjs.js","mtime":0},{"path":"/var/www/PGH/aug/projectGH/node_modules/ts-loader/index.js","mtime":1519365772000},{"path":"/var/www/PGH/aug/projectGH/node_modules/angular-router-loader/src/index.js","mtime":1512749902000},{"path":"/var/www/PGH/aug/projectGH/node_modules/tslint-loader/index.js","mtime":1519899048000}],"contextDependencies":[],"result":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\n// Import needed component and dependency\nvar core_1 = require(\"@angular/core\");\nvar godown_purchase_details_service_1 = require(\"app/entities/service/godown-purchase-details.service\");\nvar godown_purchase_details_model_1 = require(\"app/shared/model/godown-purchase-details.model\");\nvar modal_1 = require(\"ngx-bootstrap/modal\");\nvar core_2 = require(\"@angular/core\");\nvar pick_list_service_1 = require(\"app/entities/service/pick-list.service\");\nvar pick_list_value_service_1 = require(\"app/entities/service/pick-list-value.service\");\nvar moment = require(\"moment\");\nvar shared_1 = require(\"app/shared\");\n// Mension the html, css/sass files\nvar GodownPurchaseComponent = /** @class */ (function () {\n    function GodownPurchaseComponent(godownPurchaseService, pickListService, pickListValueService) {\n        this.godownPurchaseService = godownPurchaseService;\n        this.pickListService = pickListService;\n        this.pickListValueService = pickListValueService;\n        // Create object for model\n        this.godownPurchaseObject = new godown_purchase_details_model_1.GodownPurchaseDetailsModel();\n    }\n    GodownPurchaseComponent.prototype.ngOnInit = function () {\n        // Call a function to get list of godownPurchases\n        this.getGodownPurchaseList();\n        // to get the pick list\n        this.getPickList();\n        // to get the quantity variety\n        // this.getVariety(id);\n    };\n    // Call a service function to get list of godowns\n    GodownPurchaseComponent.prototype.getGodownPurchaseList = function () {\n        var _this = this;\n        // Get the list of godownPurchase\n        this.godownPurchaseService.query().subscribe(function (res) {\n            _this.godownPurchases = res.body;\n        });\n    };\n    // Send a godownPurchase object to a service (create or update)\n    GodownPurchaseComponent.prototype.save = function () {\n        this.godownPurchaseObject.date = moment(this.godownPurchaseObject.date, shared_1.DATE_TIME_FORMAT);\n        this.godownPurchaseObject.updatedAt = moment(this.updatedAt, shared_1.DATE_TIME_FORMAT);\n        if (this.godownPurchaseObject.id !== undefined) {\n            this.subscribeToSaveResponse(this.godownPurchaseService.update(this.godownPurchaseObject));\n        }\n        else {\n            this.godownPurchaseObject.createdAt = moment(this.createdAt, shared_1.DATE_TIME_FORMAT);\n            this.subscribeToSaveResponse(this.godownPurchaseService.create(this.godownPurchaseObject));\n        }\n    };\n    GodownPurchaseComponent.prototype.subscribeToSaveResponse = function (result) {\n        var _this = this;\n        result.subscribe(function (res) {\n            _this.godownPurchaseModal.hide();\n            _this.godownPurchaseObject = new godown_purchase_details_model_1.GodownPurchaseDetailsModel();\n            alert('Purchase Details Created/Updated Successfully.');\n            _this.getGodownPurchaseList();\n        }, function (res) {\n            alert(res.error.fieldErrors[0].message);\n        });\n    };\n    // show model popup to create godownPurchase value\n    GodownPurchaseComponent.prototype.createGodownPurchase = function () {\n        this.godownPurchaseModal.show();\n    };\n    // show model popup to update godownPurchase value\n    GodownPurchaseComponent.prototype.getGodownPurchaseValue = function (value) {\n        this.godownPurchaseModal.show();\n        this.godownPurchaseObject = value;\n    };\n    GodownPurchaseComponent.prototype.getPickList = function () {\n        var _this = this;\n        // Get the list of picklist\n        this.pickListService.query().subscribe(function (res) {\n            _this.pickLists = res.body;\n            // console.log(\"pick\", this.pickLists);\n        });\n    };\n    GodownPurchaseComponent.prototype.getVariety = function (id) {\n        var _this = this;\n        this.pickListValueService.getVariety(id).subscribe(function (res) {\n            // console.log(res.body);\n            _this.varietys = res.body;\n        });\n    };\n    // delete godownPurchase value\n    GodownPurchaseComponent.prototype.deleteGodownPurchase = function (godownPurchase) {\n        var _this = this;\n        this.godownPurchaseService.delete(godownPurchase.id).subscribe(function (data) {\n            alert('Purchase Details deleted Successfully.');\n            _this.godownPurchases = _this.godownPurchases.filter(function (u) { return u !== godownPurchase; });\n        });\n    };\n    Object.defineProperty(GodownPurchaseComponent.prototype, \"godownPurchase\", {\n        // Set a current time to a variable\n        set: function (godownPurchaseObject) {\n            this.createdAt = moment(this.godownPurchaseObject.createdAt).format(shared_1.DATE_TIME_FORMAT);\n            this.updatedAt = moment(this.godownPurchaseObject.updatedAt).format(shared_1.DATE_TIME_FORMAT);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    tslib_1.__decorate([\n        core_2.ViewChild('godownPurchaseModal'),\n        tslib_1.__metadata(\"design:type\", typeof (_a = typeof modal_1.ModalDirective !== \"undefined\" && modal_1.ModalDirective) === \"function\" && _a || Object)\n    ], GodownPurchaseComponent.prototype, \"godownPurchaseModal\", void 0);\n    GodownPurchaseComponent = tslib_1.__decorate([\n        core_1.Component({\n            selector: 'jhi-godown-purchase',\n            templateUrl: 'godown-purchase.component.html'\n        })\n        /**\n         * Class GodownPurchaseComponent used to create/update a godownPurchase, List all godownPurchases.\n         * Declared an GodownPurchase object to create and update.\n         * Declared an Array variable to set list of godownPurchases.\n         * Using a modal popup directive create and update form is displayed.\n         */\n        ,\n        tslib_1.__metadata(\"design:paramtypes\", [typeof (_b = typeof godown_purchase_details_service_1.GodownPurchaseDetailsService !== \"undefined\" && godown_purchase_details_service_1.GodownPurchaseDetailsService) === \"function\" && _b || Object, typeof (_c = typeof pick_list_service_1.PickListService !== \"undefined\" && pick_list_service_1.PickListService) === \"function\" && _c || Object, typeof (_d = typeof pick_list_value_service_1.PickListValueService !== \"undefined\" && pick_list_value_service_1.PickListValueService) === \"function\" && _d || Object])\n    ], GodownPurchaseComponent);\n    return GodownPurchaseComponent;\n    var _a, _b, _c, _d;\n}());\nexports.GodownPurchaseComponent = GodownPurchaseComponent;\n",{"version":3,"file":"/var/www/PGH/aug/projectGH/src/main/webapp/app/entities/godown-management/godown-purchase.component.ts","sourceRoot":"","sources":["/var/www/PGH/aug/projectGH/node_modules/angular-router-loader/src/index.js!/var/www/PGH/aug/projectGH/node_modules/tslint-loader/index.js!/var/www/PGH/aug/projectGH/src/main/webapp/app/entities/godown-management/godown-purchase.component.ts"],"names":[],"mappings":"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","sourcesContent":["// Import needed component and dependency\nimport { Component, OnInit } from '@angular/core';\nimport { GodownPurchaseDetailsService } from 'app/entities/service/godown-purchase-details.service';\nimport { IGodownPurchaseDetails, GodownPurchaseDetailsModel } from 'app/shared/model/godown-purchase-details.model';\nimport { ModalDirective } from 'ngx-bootstrap/modal';\nimport { ViewChild } from '@angular/core';\nimport { IPickList } from 'app/shared/model/pick-list.model';\nimport { IPickListValue } from 'app/shared/model/pick-list-value.model';\nimport { PickListService } from 'app/entities/service/pick-list.service';\nimport { PickListValueService } from 'app/entities/service/pick-list-value.service';\n\nimport * as moment from 'moment';\nimport { DATE_TIME_FORMAT } from 'app/shared';\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\n// Mension the html, css/sass files\n@Component({\n    selector: 'jhi-godown-purchase',\n    templateUrl: 'godown-purchase.component.html'\n})\n\n/**\n * Class GodownPurchaseComponent used to create/update a godownPurchase, List all godownPurchases.\n * Declared an GodownPurchase object to create and update.\n * Declared an Array variable to set list of godownPurchases.\n * Using a modal popup directive create and update form is displayed.\n */\nexport class GodownPurchaseComponent implements OnInit {\n    // Create object for model\n    godownPurchaseObject: GodownPurchaseDetailsModel = new GodownPurchaseDetailsModel();\n    // create empty array for each service\n    godownPurchases: IGodownPurchaseDetails[];\n    createdAt: string;\n    updatedAt: string;\n    pickLists: IPickList[];\n    varietys: IPickListValue[];\n\n    // Declare a modal popup\n    @ViewChild('godownPurchaseModal') public godownPurchaseModal: ModalDirective;\n\n    constructor(private godownPurchaseService: GodownPurchaseDetailsService,\n        private pickListService: PickListService,\n        private pickListValueService: PickListValueService) {}\n\n    ngOnInit() {\n        // Call a function to get list of godownPurchases\n        this.getGodownPurchaseList();\n        // to get the pick list\n        this.getPickList();\n        // to get the quantity variety\n        // this.getVariety(id);\n    }\n\n    // Call a service function to get list of godowns\n    getGodownPurchaseList(): void {\n        // Get the list of godownPurchase\n        this.godownPurchaseService.query().subscribe((res: HttpResponse<IGodownPurchaseDetails[]>) => {\n            this.godownPurchases = res.body;\n        });\n    }\n\n    // Send a godownPurchase object to a service (create or update)\n    save() {\n        this.godownPurchaseObject.date = moment(this.godownPurchaseObject.date, DATE_TIME_FORMAT);\n        this.godownPurchaseObject.updatedAt = moment(this.updatedAt, DATE_TIME_FORMAT);\n        if (this.godownPurchaseObject.id !== undefined) {\n            this.subscribeToSaveResponse(this.godownPurchaseService.update(this.godownPurchaseObject));\n        } else {\n            this.godownPurchaseObject.createdAt = moment(this.createdAt, DATE_TIME_FORMAT);\n            this.subscribeToSaveResponse(this.godownPurchaseService.create(this.godownPurchaseObject));\n        }\n    }\n\n    private subscribeToSaveResponse(result: Observable<HttpResponse<IGodownPurchaseDetails>>) {\n        result.subscribe(\n            (res: HttpResponse<IGodownPurchaseDetails>) => {\n                this.godownPurchaseModal.hide();\n                this.godownPurchaseObject = new GodownPurchaseDetailsModel();\n                alert('Purchase Details Created/Updated Successfully.');\n                this.getGodownPurchaseList();\n            },\n            (res: HttpErrorResponse) => {\n                alert(res.error.fieldErrors[0].message);\n            }\n        );\n    }\n\n    // show model popup to create godownPurchase value\n    createGodownPurchase(): void {\n        this.godownPurchaseModal.show();\n    }\n\n    // show model popup to update godownPurchase value\n    getGodownPurchaseValue(value: GodownPurchaseDetailsModel): void {\n        this.godownPurchaseModal.show();\n        this.godownPurchaseObject = value;\n    }\n\n    getPickList(): void {\n        // Get the list of picklist\n        this.pickListService.query().subscribe((res: HttpResponse<IPickList[]>) => {\n            this.pickLists = res.body;\n            // console.log(\"pick\", this.pickLists);\n        });\n    }\n\n    getVariety(id): void {\n        this.pickListValueService.getVariety(id).subscribe((res: HttpResponse<IPickListValue[]>) => {\n            // console.log(res.body);\n            this.varietys = res.body;\n        });\n    }\n\n    // delete godownPurchase value\n    deleteGodownPurchase(godownPurchase: GodownPurchaseDetailsModel): void {\n        this.godownPurchaseService.delete(godownPurchase.id).subscribe(data => {\n            alert('Purchase Details deleted Successfully.');\n            this.godownPurchases = this.godownPurchases.filter(u => u !== godownPurchase);\n        });\n    }\n\n    // Set a current time to a variable\n    set godownPurchase(godownPurchaseObject: GodownPurchaseDetailsModel) {\n        this.createdAt = moment(this.godownPurchaseObject.createdAt).format(DATE_TIME_FORMAT);\n        this.updatedAt = moment(this.godownPurchaseObject.updatedAt).format(DATE_TIME_FORMAT);\n    }\n}\n"]}]}